---
import { iconPaths, type IconName, type IconFillOpacity } from './iconPaths';

// Re-export types for streamlined imports
export type { IconName, IconFillOpacity };

interface Props {
  name: IconName;
  class?: string;
  /**
   * @deprecated iconOpacity prop is currently not supported with the simplified pattern.
   * All icons use the default opacity from iconPaths.ts (0.15).
   * If per-instance opacity is needed, revert to the function pattern in iconPaths.ts
   */
  iconOpacity?: IconFillOpacity;
}

const { name, class: classList = 'stroke-1.25 size-4', ...attrs } = Astro.props;

const svgContent = iconPaths[name];

// Filled icons that shouldn't have a stroke
const filledIcons = ['instagram_logo', 'facebook_logo', 'linkedin_logo'] as const;
const isFilled = filledIcons.includes(name as any);
---

<svg
  class={`${classList} shrink-0`}
  xmlns="http://www.w3.org/2000/svg"
  fill="none"
  stroke={isFilled ? 'none' : 'currentColor'}
  viewBox="0 0 14 14"
  {...attrs}
>
  <Fragment set:html={svgContent} />
</svg>
